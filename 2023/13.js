const input = `#..##..
#.##.##
#####..
#..#.#.
.####..
#.#.#..
#.#.#..

##.##.###
##.##.###
..####..#
###.#.###
###.#..#.
#.###....
###.#...#
###.#...#
#.###....
###.#..#.
###.#.###
..##.#..#
##.##.###

..####.
#......
.##..##
#.#..#.
#......
#.#..#.
#.#..#.
#......
###..##
.##..##
#......

#..####..#..#..
.###..###.##.##
.#......#.####.
###....########
##......######.
..##..##..##..#
.#..##..#.##.#.
.###..###.##.##
#..####..####..
..#....#..##..#
.########....##
#..####..####..
#.######.#..#.#
###.##.########
.#.#..#.#.##.#.
....##.........
#.##..##.#..#.#

#..###..#..
#..###..#..
###.#####..
#####.##..#
#.#.#....##
.##..##....
#.#...##.#.
####...####
####...####
#.#...##.##
.##..##....
#.#.#....##
#####.##..#

...#...#.#.##
##....#.##.#.
##..#.#.#....
...##.#####..
###..#...#...
###.#....###.
##..####....#
...#.####...#
##...##.###.#
##...##.###.#
..##.####...#
##..####....#
###.#....###.
###..#...#...
...##.#####..
##..#.#.#....
##....#.##.#.

###.##..#
#####....
#####....
##....##.
####.#..#
...#.....
.#.######

##..####.###.
###.##..##...
...####.#..##
...####.#..##
######..##...
##..####.###.
#.##...##..#.
.#..##..##..#
.#..##..##..#
#.##...##..#.
##..####.###.
######..##...
...####.#..##
...####.#..##
###.##..##...
##..####.###.
.##.#.....#.#

...#.#..##..#.#
.###..#.##.#..#
..##..######..#
..#.##......##.
#.###.##..##.##
.....#......#..
.....#......#..
#.###.##..##.##
..#.##......##.
..##..######..#
.###..#.##.#..#
...#.#..##..#.#
.##.##......##.
..#...#....#...
.#...#########.

###.######.
#.#..#...#.
.###...#.##
###.#.##...
##.##...#.#
##.##...#.#
###.#.##...
.###..##.##
#.#..#...#.
###.######.
###.######.
#.#..#...#.
.###..##.##

######.
..###..
.#.##.#
#....#.
#....#.
.#.##.#
..###..
######.
#####..

##....#.#
##..#.#.#
.#...###.
#..#.....
.##.....#
#.#.#..#.
.##..###.
##...####
##.#####.
##.###...
.####....
.####....
##.###...

#...##.#...#.#.
#.#######...###
###..##....##.#
....#.#.###...#
....#.#.###...#
###...#....##.#
#.#######...###
#...##.#...#.#.
.###...##.##...
.###...##.##...
#...##.#...#.#.

###..#.
###..#.
.####..
.##....
###..#.
.####.#
.##..#.
.##.###
#####..
#..#...
.#..##.
.#..##.
#..##..

.#####.#...#..#..
.#####.#...#..#..
#.#.##...#...##.#
##...##.##..###.#
....#..####....##
....#..#.##....##
##...##.##..###.#

#####.#.#
#...##..#
#######.#
######.##
.##.#..##
#####..#.
#..###.##
#..#.##..
.##....##
#####.###
#####.###
.##....##
#..#.##..
#..###.##
#####..#.

..#....#####.
..#.##.####.#
##.##.######.
....####..###
########..###
....#.##..##.
##.#.########
......#.##.#.
..#..##....##

##..#..#.#.#.
##..#..#.#.#.
##.#.##.....#
.#.#.##..###.
..#...####..#
#.....#..####
#..#..#..####
..#...####..#
.#.#.##..###.

.#..##..#..##..#.
#........######..
##########.##.###
.#..##..#.####.#.
....##....#..#...
###....###.....##
.###..###......##
#..#..#..######..
##......########.
###.##.###.##.###
##..##..##....##.
#.######.#.##.#.#
.#......#.####.#.
####..#####..####
##.####.###..###.

.##...##...
#...#....#.
#..########
.##.#....#.
#..##....##
#..##....##
......##...

....#####.##.
#####.#.##.##
....#.##.#..#
.....#...#..#
####..####..#
#########..##
#######.....#
#######.#.###
....#.#....#.
....##....###
.##...####..#

#....#.###..###.#
##..##.##.##.##.#
.####.#........#.
..##..##.####.##.
#.##.####....####
....#..#.#..#.#..
#....###.#..#.###
.......#.####.#..
#.##.#...#..#...#
#.##.#.##....##.#
.#..#..#.####.#..
#.##.#.#.####.#.#
.####.###.##.###.

.....#..#.....###
...#.#..#.#....##
#####.##.######..
.#..######..#....
.##.##..##.##.#..
.###.####.###..##
#.#........#.###.
.#..#.##.#..#.#..
....#.##.#.....##
####......#######
#.#.#....#.#.#...
.###.#..#.###....
####..##..####.##

##..####...#.
##..##.#.#..#
######.###...
.......#....#
#....###....#
.......#..#..
..##....#.#.#

.#.........
..#.#######
##.##...##.
###.####...
###.####...
##.##...##.
..#.#######
.#.........
.###.###..#
####.#.##.#
#.####.#..#
#.####.##.#
####.#.##.#
.###.###..#
.#.........

####....##....#
...#....##....#
.##...#....#...
#..#.##.##.##.#
.###.##.##.##.#
.###.##.##.##.#
##.############

....######.....
#....#..#....##
..##..##..##...
..##########...
..##.####.##...
..####..####...
.##.....#..##..
####..##..#####
#.##########.##
#.##..##..##.##
.###.#..#.###..
#.#.#....#.#.##
#...##..##...##

.......#.
#..#.#..#
.#####.##
####..#.#
#####.#..
.##.##.#.
.##.##.#.
#####.#..
####..#.#

.#..#..#..###..#.
#.##.#.####..##..
######.##.###.#..
######.##.###.#..
#.##.#.####..##..
.#..#..#..###..#.
#....#..#..##.#..
#....####..#####.
..##..#...##..#..
###############..
...#..####.#.##.#

.##..######
....#######
.##.#...#.#
#####.###.#
######.##.#
....###....
.....#...#.
#..###..###
.....##...#
.##..##...#
#..#...##.#
.##....#.##
.##...##.##
#..#...##.#
.##..##...#

#....#..####..#..
#.....###..###...
.#.#..##....##..#
##..#...####...#.
.##.##.....#..##.
..#.#..#....#..#.
#.#######..######
.#...#..####..#..
.#..##.#....#.##.
.#.####......####
.#.####......####

......##.##.##.
..####.#....###
....##........#
#####..#....#..
........####...
..###..######..
...##..######..
...#..###..###.
#####..#.##.#..
###..#..####..#
..#.###.#..#.##

#.....##.....
.###..##..###
.##..#..#..##
###.#....#.##
###...##...##
.###..##..###
....##..##...
#............
##.##....##.#
.##..#..#..##
.####....####

#...#.#.##...
...###.##..##
..###.#.##...
.###.###...#.
##.#...#.###.
#...###.#.#.#
..#####...#.#
..#####...#.#
#...###.#.#.#
##.#...#.###.
.###.###...#.
..###.#.##...
...#.#.##..##
#...#.#.##...
.#.#....####.
.#.#....####.
#...#.#.##...

..#..#.#..##..#
#..#.#....##...
.#.#####......#
#..###.###..###
##.#...###..###
..##.##....#...
#..###.##....##
...####.######.
...####.######.

.#.##.#.##.#.
.#.####....##
.##...######.
.##...######.
.#.####....##
.#.##.#.##.#.
.#######..###
#..####....##
..###.#...##.
..###..#..#..
#..#.########

....#..#.
####.#.#.
...###.##
..#..##.#
##...#...
##.##.#..
##.....#.
##...##.#
...####.#
.#...####
####...#.
###..###.
..#####.#
..#..##.#
..#..##.#

##.#.#..##..##.#.
.###.##.#....###.
#..#.#.#.##.#.###
#....#.########.#
.....#..#.###.##.
#....###....#####
.###....###...###
.###....###...###
#....###....####.
..####.###..##..#
..####.###..##..#
#....###....####.
.###....###...###
.###....###...###
#....###....#####

.###.##.###..
.##.####.##..
..########...
.#..####..#..
..#.#..#.#...
.#.#....#.#..
..##.##.##...
#.##....##.##
.##.####.##..
#.##....##.##
..#..##..#...
#.#.#..#.#.##
.#........#..
#....#.....##
.###....###..

..##.#..#.#
..##.##...#
..##..#...#
..##.#..#.#
##.#..####.
...#..#.#.#
...###.#.##
###.##..###
##..##.##..
...##..#..#
..###.##.#.
##...###..#
..#..####.#

##.##.#.##....#
.........##.#..
....#...###.#.#
####..#.####.##
.#..##...##.##.
#.#.##.#####.#.
.#.#.#...#..###
#..#.####..##.#
#..#.#.###.##.#
##..#.##..#####
#...#.##..#####
.#..#####..##.#
..#...#.######.
..#...#.######.
.#..#####..##.#
#...#.##..#####
##..#.##..#####

.#..###.##.
..#.####..#
####...#..#
...#.##....
###.####..#
#####...##.
###.#..####
##.#.#.####
....#.#.##.
..##.###..#
..####.....

#.##.#.###.##..
####.##.#..#..#
#..#.#.####...#
#..##.##.####..
#..######...##.
.....##.####..#
####.##..######
#######..#..#.#
#..##.#.#.##...
.##...#.#.#....
....#..#...##.#
#..#...##.#.#..
.##...#..##.#.#
####....#.#.#..
#####.###.####.
......##.#....#
......##.#....#

#.###.##.###.#.
#.###.##.###.#.
...#.#..#.#...#
##.##.##.##.##.
.##.#.##.#.##..
#.#........#.#.
.#.#.####.#.#..
....#....#.....
.############..
#.##..##..##.##
.#####..#####.#
#....#..#......
.#..#....#..#.#
#..#.#..#.#..##
##....##....###

...###.
....##.
...#..#
...##.#
..#####
#.#.##.
.#..##.
.#..##.
#.#.##.
..#####
...##.#
...#..#
....##.

#.#......
..#.#..#.
..###..##
##...##..
###.##.#.
.#.##..##
###......
##.......
##...##..
##...##..
##.......

...#.#.
###..##
#...#..
..#.#..
..#.#..
#...#..
###..##
...#.#.
.######
.######
...###.

#...#.#####....##
#.####..##......#
######.####....##
###.##.#.#.####.#
.#.#.##...#....#.
.##......#.####.#
..######...####..
#..#..##....##...
###.#..#.........
#....##...##..##.
.#.####.##.#..#.#
#..#...#..##..##.
#.#..###...####..
#...#...##.#..#.#
#...##.#...####..
#...##.#...####..
#...#....#.#..#.#

##.....##..###.
#......##..###.
#..##..##.###..
......#...#####
.#####....##.##
..#...#.##....#
.##.#.###.#...#
.##.#.###.#...#
..#...#.##....#
.#####....##.##
......#...#####

#.##....##.##
.###....###..
#.#..##..#.##
.###....###..
...######....
.##########..
...#....#....
.##.#..#.##..
#.##....##.##
#..........##
#...#..#...##
##...##...#..
.#..####..#..

####.###.#...
####.###.#...
.##.#....#.##
######..#.###
######.#.#.#.
#..#..##..#..
.##....##.###
.....##.#.##.
#..####..#.##
#....##.####.
.##..##.#..#.
.##..#..##...
####.##..##.#
....#.##.#..#
....######..#
......##..#.#
####..#.##..#

#.##.##.##.##.##.
.###....###......
##..#..#..##.#..#
.#.#....#.#.##..#
##.##..##.##..##.
##.#....#.##..##.
.#.##..##.#.#.##.
#.########.#.....
##.#.##.#.####..#
..##.##.##..##..#
.##########......
.#.##..##.#..####
...######.....##.
###.####.###.....
.#.######.#..####
.###.##.##...####
.#.#....#.#..####

####.###.
....##...
......###
....###..
#..##..#.
######...
######...
#..##..#.
....###..
......###
....##...
####..##.
.##.#.##.
####...##
#..##.##.
......###
#####....

##..####..##.
##.######.##.
.....##.....#
##.#.##.#.###
##.##..##.##.
.#.#....#.#..
##...##...##.
#####..######
##..####..###
##...##...##.
..########..#
##.#.##.#.###
##...##...###
####.##.#####
##.#.##.#.##.
##.######.##.
..#.####.#..#

#.##.##......##.#
#.##.##......##.#
.#.##..##......#.
#.##..##..##...#.
##....#...#....##
.#.###..###......
##.##..#....##.##
##.##..#....##.##
.#.###..###......
##....#...#....##
#.##..#...##...#.
.#.##..##......#.
#.##.##......##.#

.#..#..
.##.##.
.###..#
##.####
##.####
.###..#
.##.##.
.#..##.
#..###.
..#.###
#.#....
###...#
###...#
#.#....
..#.###

...##...####.
####.........
..#..###.##.#
###..#.######
##..#########
###..........
..#..##......
##...#..#..#.
....##.###.##
..#..########
....#.#......
##.#.########
..###........
###.#########
...#...######
..#.#.#######
#####..#....#

....#...#
#.#.#.#..
#.#.#.#..
.#..#...#
##.#.####
..##.#.#.
.....#...
#####...#
####...#.
##....#.#
..#...###
..#...###
##....#.#

....#...#
####.##.#
.##.##...
####....#
.##..####
.##...###
####....#

##.#..#
####..#
###.#..
##..##.
##..##.
..#.#..
####..#

.....#..#
###......
#.#######
#.#######
..##.....
##.######
..#######
.########
...##....

##.#..#.#
.#.#.##..
##.##..##
....###.#
....###.#
##.##..##
.#.#.##..
##.#..###
..###....
.##..####
.##..####
..###....
##.#..###

......##.#.
#####.#.##.
.##.#.#####
.....##.#.#
....##.#.##
#..#.##.#.#
#..#.##.#.#
....#..#.##
.....##.#.#
.##.#.#####
#####.#.##.
......##.#.
.......##.#
#..###..#..
.##..##.###

.#.#.#..#
#..#..##.
##..##..#
##.##.##.
#.#.##.##
....#####
#...#....
.#.#.....
.####....
..#......
..#......
.####....
.#.#.....

......###..
..###.#.#..
#......#.##
.####..#.##
##.###.#...
##.####....
.#....#..##
##.##..#...
#.#.###....
..#..######
..#..######
#.#.###....
#####..#...
.#....#..##
##.####....
##.###.#...
.####..#.##

.####..##
##..##..#
#....###.
#....###.
##..###.#
.####..##
.#..#.#.#
######.##
.####..#.

###.#..#.
###.#..#.
.#..#.#.#
###..##..
..#.###.#
...#.####
.###..###
#...#.###
#...#.###
.#.#..###
...#.####
..#.###.#
###..##..
.#..#.#.#
###.#..#.

#..#...#..#.#.#
#..###......###
.....########..
#..###.####.###
........##.....
#..###......###
....#...##...#.
####.##.##.##.#
#..##.#.##.#.##
####....##....#
####.#..##..#.#
......##..##...
.##.##.####.##.

#...##...#...
######...##.#
#.####...##.#
.#.######.#..
.##...##.#.#.
.##...##.#.#.
.#.######.#..
#.####...##.#
######...##.#

...###..#.#...#
##.#..###.#..#.
...######.##.##
...######.##.##
##.#..###.#..#.
...###..#.#...#
..#..#.##.##.#.
..#.#.##.#...##
...##....#....#
##.###..#...#.#
.#..###..###.##
..##.###..#..#.
..#..#####.##.#
##.##.#.####.#.
####...####.##.
##..#.#..#.#...
..#.#.#.#.#.##.

..##.#.#.##
.###.#.#.##
.#..#......
####.##.#.#
#.#..##..##
.##..#.#.#.
###........
##....#.##.
.###.####.#
......#.##.
##.#..##.#.
#...##.#...
..#..####.#
..#..####.#
#...##.#...

#.########.#..#..
#.########.#..#..
##.#.##.#.###.#.#
#..##..##..#.###.
....#..##........
#....##....##.#..
###......###..#.#
#.###..###.##....
..##.##.##..#.#..
#..######..#..##.
..###..###.......
##..#..#..##.###.
##.######.###.###
#....##....#...#.
...##..##...#.###

#####.####.
##..#..#.#.
##..###....
###.###.#.#
....####.#.
..####.#.#.
######..#..
######..#..
..####.#.#.
....####.#.
###.###.#.#
##..###....
##..#..#.#.
#####.####.
###.#.####.
...###.#.#.
.###.###...

..##.#.####.#.##.
..##.#.####.#.##.
.##.#.##..##.#.##
.#.#..######.##.#
#...###....###...
##.############.#
..##############.
...#####..#####..
#.#....####....#.
##..##......##..#
.#.##..####..##.#
#.##.#.#..#.#.##.
..#..#.#..#.#..#.
.##.##..##..##.##
#.##.#.#..#.#.##.

####.##.#
.....####
........#
#..#.##..
....#.##.
.##.##.##
.##.##..#

##.##..##.#####
##..#..#..###..
.#.#.##.#.#.###
.#.#.##.#.#..##
.#..#..#..#.#.#
##..#..#..##...
.#...##...#.###
..#.####.#..#..
##.#.##.#.##.##
.###....###....
##........###..

.#.####.#.##.#.
##......######.
##########..###
#...##..##..##.
.#.#..#.#.##.#.
..######..##..#
##.#..#.##..##.

.#.#####.#.####
#...##..#######
..#...##.......
##......#..####
.####.##.######
.###..#########
##.##.#.##.....
###.#.##.##.##.
..#.###...#....
..#.#...#.#....
.#.#.....######
#####.###.#####
..#..##.##.####
.#..#....#.####
.#....#.#.#....

#.#.####.#.
.#.##..##.#
#...#..#...
####....###
...#.##.#..
...##..##..
...##..##..
...#.##.#..
####....###
#...#..#...
.#.##..##.#
#.#.####.#.
.....##....
..##....##.
###.#######
.#.#.##.#.#
####.##.###

##..##..##..###
##.###..###.##.
###.#.##.#.####
###.#.##.#.####
##.###..###.##.
##..##..##..###
#..###..###..##
..#.##..##.#...
#.#..##.#..#.##

....##...#.###.#.
####.#...##.###..
.##.####.##.##.##
####.#.##...#.#.#
....###.#.####..#
#..###.##.#.#.#..
#..###.#..##..#.#
.##...###...###.#
.##.##.###...#.#.
.##.##.###...#.#.
.##...###...###.#
#..###.#...#..#.#
#..###.##.#.#.#..

#######.##.#....#
#.##..#..##......
..#..####...##...
######..#...#...#
...#....#.#.##...
.#..##....#.##..#
#..#.##.###.###.#
...#.###......#..
#.##.#.##..#..###
####..######.##.#
####..######.#..#
#.#.##.#.##.#....
#.#.##.#.##.#....
####..######.#..#
####..######.##.#

.#.####.#.#.##.
.#.####.#..###.
.#..##..#.#.###
##......##.##.#
##.####.####.##
..##..##..#.###
..##..##..#####

#.#####..#.#.#...
..##..##.#.####..
..#.##.#.#.#..#..
.#.##.#.#...#.###
.##..##.....#####
.###...#.#..#....
#..#..##....#.###
.#.###.....##....
..#.#####.##..#..
.....###...###.##
.....###...###.##
..#.#####.##..#..
.#.###.....##....
#..#.###....#.###
.###...#.#..#....

##.####..##
.#...#.##.#
.#..#.#..#.
.###.......
####.#.##.#
##.#.#.##.#
.###.......
.#..#.#..#.
.#...#.##.#
##.####..##
####.######
#..####..##
###..######
#####.####.
.#...######
####...##..
#.#########

#.##..##.#..#
#.######.#.##
..#....#..###
#........####
.#.####.#....
##..##..#####
##..##..###..
..........###
####..####...
##..##..###..
####..#######

#.##..####.##.#
.###.####.#.##.
..#.#.##.#...##
....#.##....###
#.#.##.#####.##
..#....#.....##
..#....#.....##
#.#.##.#####.##
....#.##....###
..#.#.##.#...##
.###.####.#.##.
#.##..####.##.#
##...##.#.###..
##...##.#.###..
#.##..####..#.#
.###.####.#.##.
..#.#.##.#...##

#######.#..
#.##.#....#
......##...
##..######.
..##...#.#.
.####..##..
#....#.##..
.#..#.#..##
.......#.#.
......##.#.
.#..#.#..##

#..#..#.####.
.##.###......
..#..##.#..##
#..#######..#
#####....####
#..##.#.##..#
####.###..##.
######.#..#.#
....###.##.##
......#......
#..#..#.##...
####.##...##.
####.##...##.

###..####
.#...#.##
#..###.##
#.#.##...
..#.#####
####..#..
.##.##.##
#.##.....
#.###....

.####.#
.####.#
.#.#.#.
.....#.
##..#..
...###.
...###.
##..#..
.#...#.
.#.#.#.
.####.#

..#..##.#........
##.##.#...###..##
##.##.#...###..##
..#..#..#........
#..##.###..######
###.##.##.#######
..#...#.##...##..
.#....#.#........
##.#.####..#....#
#.#.##....#######
.#####...#.......
##.####.#.###..##
#.######.###.##.#
#.#.#.####.#....#
...#######.######

.##..##
#..##..
#..#.##
....#..
....#..
#..#.##
#..##..
.##..##
######.
####..#
...#.#.

.##.#.####.
.##.#.####.
.####..#.##
.#####.#.#.
#.#..#.###.
##.#######.
..####....#
#.##..###.#
#.##..###.#
..##.#....#
##.#######.
#.#..#.###.
.#####.#.#.
.####..#.##
.##.#.####.

..#......#....#
.####..####..##
#.#.####.#.##..
.#.######.#..#.
#.########.##.#
#....##....##..
...##..##......

#.##...##
..#.#.###
##...####
.###.....
.###.....
##...####
..###.###
#.##...##
####.####
.####.#.#
#..#.#.##
######.#.
..######.
##.##.###
##.##.###

#....#..#....#.##
.###......###.#..
.#..######..#..##
.#.#.####.#.#....
.#.##....##.#..##
...##.##.##....##
...###..###....##
###..####..###...
..#.#.##.#.......
...########......
######..#########
..##..##..##.....
.....####.....###
#.##.#..#.##.##..
.#...#..#...#..##

...##.#
...###.
###.###
###.###
...###.
...##.#
###..#.
.####..
.#.....
#.#....
#.#....
.#.....
.####..
###..#.
..###.#

#.#....#...
#.#.#..#...
#.#.#..#...
#.#....#...
###.....#.#
..#.#....##
#..#.##...#

#.##.##########
.####.###....##
.........####..
#....#.#.....##
.#..#.###.##.##
#....#.#.#..#.#
.#..#.#########
......##.####.#
..##...###..###`;


/*console.time('a');
const findReflection = (mirror) => {
    for(i = 0; i < mirror.length - 1; i++) {
        let isReflection = true;
        for (let e = 0; e <= i; e++) {
            const lines = [mirror[i - e], mirror[i + e + 1]];
            if(lines.indexOf(undefined) !== -1) break;

            if(JSON.stringify(lines[0]) !== JSON.stringify(lines[1])){
                isReflection = false;
                break;
            }
        }

        if(isReflection) return (i + 1)
    }

    return 0;
}

let sol = 0;
input.split("\n\n").forEach(mirrorString => {
    const mirror = mirrorString.split("\n").map(x => x.split(""));
    
    const Horizontal = findReflection(mirror[0].map((_, colIndex) => mirror.map(row => row[colIndex])))
    sol += Horizontal;
    if(Horizontal) return;

    sol += 100 * findReflection(mirror)
});

console.timeEnd("a");
console.log(sol);*/

const findReflection = (mirror) => {
    for(i = 0; i < mirror.length - 1; i++) {
        let offBy = 0;
        for (let e = 0; e <= i; e++) {
            const lines = [mirror[i - e], mirror[i + e + 1]];
            if(lines.indexOf(undefined) !== -1) break;

            if(JSON.stringify(lines[0]) !== JSON.stringify(lines[1])){
                for (let j = 0; j < lines[0].length; j++) if(lines[0][j] !== lines[1][j]) offBy++;
            }
        }

        if(offBy === 1) return (i + 1)
    }

    return 0;
}

let sol = 0;
input.split("\n\n").forEach(mirrorString => {
    const mirror = mirrorString.split("\n").map(x => x.split(""));
    
    const Horizontal = findReflection(mirror[0].map((_, colIndex) => mirror.map(row => row[colIndex])))
    sol += Horizontal;
    if(Horizontal) return;

    sol += 100 * findReflection(mirror)
});

console.log(sol);